@page "/motomakers"

   <MudContainer>
@if (MakersResponse.Results is null)
{
    <Plane></Plane>
}
else
{
        <style>
            .selected {
                background-color: #1E88E5 !important;
            }

                .selected > td {
                    color: white !important;
                }

                    .selected > td .mud-input {
                        color: white !important;
                    }
        </style>


        <MudGrid>
            <MudItem xs="12" md="6" lg="6" xl="6">


                <MudTable Items="@MakersView" Dense="true" Hover="true" Bordered="true" Striped="true" Breakpoint="Breakpoint.Sm" @ref="makerTable"
                          OnRowClick="RowClickEvent" T="Maker" Filter="new Func<Maker,bool>(FilterFuncMotoMaker)" RowClass="cursor-pointer" RowClassFunc="@SelectedRowClassFunc">
                    <ToolBarContent>
                        <MudText Typo="Typo.h6">Marque des motos</MudText>
                        @if (_processing)
                        {
                            <MudSpacer />
                            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                        }
                        <MudSpacer />
                        <MudTextField @bind-Value="searchStringMakerName" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
                    </ToolBarContent>
                    <HeaderContent>
                        <MudTh>Nom de marque</MudTh>

                    

                    </HeaderContent>
                    <RowTemplate>
                        <MudTd DataLabel="MakerName">@context.MakeName</MudTd>


                    </RowTemplate>
                    <PagerContent>
                        <MudTablePager />
                    </PagerContent>
                </MudTable>


            </MudItem>
            <MudItem xs="12" md="6" lg="6" xl="6">
                <MudTable Items="@ModelsView" Dense="true" Hover="true" Bordered="true" Striped="true" Breakpoint="Breakpoint.Sm" @ref="modelTable"
                          Filter="new Func<Model,bool>(FilterFuncMotoModel)" 
                          T="Model">
                    <HeaderContent>
                        <MudTh>Model</MudTh>
                        @if (_processing)
                        {
                            <MudSpacer />
                            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                        }
                        <MudSpacer />
                        <MudTextField @bind-Value="searchStringMakerName" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>

                    </HeaderContent>
                    <RowTemplate>
                        <MudTd DataLabel="ModelName">@context.Model_Name</MudTd>


                    </RowTemplate>
                    <PagerContent>
                        <MudTablePager />
                    </PagerContent>
                </MudTable>
            </MudItem>
        </MudGrid>

    
}
   </MudContainer>
